---
title: "Video Player Hooks"
description: "Complete guide to all video player hooks"
date: 2025-06-14
---

# Video Player

The video player library provides a set of React components for building powerful video players with advanced functionality.

## Overview

The video components are built on top of the hooks and provide a complete video player solution with built-in controls, auto-hide functionality, and keyboard shortcuts.

## VideoProvider (Required)

The main context provider that wraps your video player and provides global state management.

| Prop        | Type                          | Description                 | Default |
| ----------- | ----------------------------- | --------------------------- | ------- |
| `children`  | `ReactNode`                   | Video player components     | -       |
| `onError`   | `(error: string) => void`     | Error callback function     | -       |
| `className` | `string`                      | CSS classes for the wrapper | -       |
| `...props`  | `React.ComponentProps<"div">` | Div element props           | -       |

**Example:**

```tsx
import { VideoProvider } from "@zuude-ui/video";

const VideoPlayer = () => {
  return (
    <VideoProvider onError={(error) => console.log(error)}>
      {/* Your video player components */}
    </VideoProvider>
  );
};
```

## Video

The main video component that renders the HTML video element.

| Prop           | Type                                      | Description                       | Default |
| -------------- | ----------------------------------------- | --------------------------------- | ------- |
| `src`          | `string`                                  | Video source URL                  | -       |
| `ref`          | `RefObject<HTMLVideoElement>`             | Video element reference           | -       |
| `className`    | `string`                                  | CSS classes for the video element | -       |
| `autoPlay`     | `boolean \| "force"`                      | Auto-play the video               | -       |
| `controls`     | `boolean`                                 | Show/hide controls                | `true`  |
| `muteFallback` | `(onMute: () => void) => React.ReactNode` | Custom UI for autoplay blocked    | -       |
| `...props`     | `React.ComponentProps<"video">`           | Video element props               | -       |

**Example:**

```tsx
import { Video } from "@zuude-ui/video";

const VideoPlayer = () => {
  const videoRef = useRef<HTMLVideoElement>(null);

  return (
    <VideoProvider>
      <Video
        ref={videoRef}
        src="https://example.com/video.mp4"
        className="w-full aspect-video object-cover rounded-lg"
        autoPlay
        muted
        loop
        onClick={() => console.log("Video clicked")}
        onLoadedMetadata={() => console.log("Metadata loaded")}
      />
    </VideoProvider>
  );
};
```

If you don't specify a `ref` prop, the video component will use its own internal ref. If you provide your own ref prop, the component will use that instead. This allows you to either let the component handle the ref internally or have direct access to the video element when needed.

### controls

If the controls prop is set to `true`, you don't get the default browser video controls. The benefit of this is that when the video is clicked (focused), you can use your keyboard to control the video with the following shortcuts:

- `Space`: Play/Pause
- `M`: Mute/Unmute
- `F`: Toggle Fullscreen
- `Left` Arrow: Seek Backward 10s
- `Right` Arrow: Seek Forward 10s
- `P`: Toggle the picture-in-picture mode

### autoplay

In modern browsers, autoplay is blocked by default if you try to autoplay a video with sound. To autoplay the video, you can use the `force` option which will automatically handle muting the video if needed. This ensures the video can autoplay without sound, following browser autoplay policies.

You can also provide a `muteFallback` prop to show a custom UI when autoplay is blocked:

```tsx
<Video
  autoPlay="force"
  muteFallback={(onMute) => <button onClick={onMute}>Autoplay blocked</button>}
/>
```

## Controls

The Controls component allows you to add custom video player controls. It automatically manages the control state, including showing/hiding controls based on video playback state, handling hover interactions, and managing focus states. The controls will automatically hide when the video is playing and show when paused or when the user hovers over the video.

| Prop        | Type                          | Description                  | Default |
| ----------- | ----------------------------- | ---------------------------- | ------- |
| `className` | `string`                      | CSS classes for controls     | -       |
| `children`  | `ReactNode`                   | Control buttons and elements | -       |
| `...props`  | `React.ComponentProps<"div">` | Div element props            | -       |

### data-zuude-hide-elements

The `data-zuude-hide-elements` attribute is used to hide the controls when the video is playing. This is useful when you want to add your own controls to the video player.

```tsx
<Controls data-zuude-hide-elements />
// You can also use a div element to hide the controls.
<div data-zuude-hide-elements />
```

**Example:**

```tsx
import {
  Controls,
  Play,
  Pause,
  Mute,
  Unmute,
  Fullscreen,
} from "@zuude-ui/video";

const VideoPlayer = () => {
  return (
    <VideoProvider>
      <Video src="video.mp4" />
      <Controls className="absolute bottom-0 left-0 right-0 bg-black/50 text-white p-4">
        <Play>Play</Play>
        <Pause>Pause</Pause>
        <Mute>Mute</Mute>
        <Unmute>Unmute</Unmute>
        <Fullscreen>Fullscreen</Fullscreen>
      </Controls>
    </VideoProvider>
  );
};
```

**NOTE**: Elements with the `data-zuude-hide-elements` attribute will receive a `data-hidden` attribute when the controls need to be hidden. You can use this attribute to customize the element's styles in hidden state, for example:

## Control Components

Individual control components that can be used within the `Controls` component or as standalone components.

### Play

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

### Pause

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

### Mute

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

### Unmute

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

### SeekForward

The default value is 10 seconds.

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

### SeekBackward

The default value is 10 seconds.

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

### Fullscreen

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

For mobile **safari**, it acts differently. It will open the video in fullscreen mode. We don't have access the state of the fullscreen mode, so we can't use it to show/hide the controls.

### ExitFullscreen

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

### PictureInPicture

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

### Download

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

### Speed

| Prop       | Type                             | Description          | Default |
| ---------- | -------------------------------- | -------------------- | ------- |
| `children` | `ReactNode`                      | Button content       | -       |
| `asChild`  | `boolean`                        | Render as child      | -       |
| `value`    | `number`                         | Speed value          | -       |
| `...props` | `React.ComponentProps<"button">` | Button element props | -       |

**Example:**

```tsx
<Speed value={1.5}>Speed</Speed>
<Speed value={2}>Speed</Speed>
<Speed value={0.5}>Speed</Speed>
```

### Loading

| Prop       | Type                          | Description       | Default |
| ---------- | ----------------------------- | ----------------- | ------- |
| `children` | `ReactNode`                   | Button content    | -       |
| `asChild`  | `boolean`                     | Render as child   | -       |
| `...props` | `React.ComponentProps<"div">` | Div element props | -       |

**Example:**

```tsx
<Loading className="absolute top-0 left-0 w-full h-full bg-black/50 flex items-center opacity-0 justify-center data-[loading=true]:opacity-100">
  Loading
</Loading>
```

## Shadow

A shadow video component that mirrors the main video's playback state and current time.

| Prop       | Type                          | Description       | Default |
| ---------- | ----------------------------- | ----------------- | ------- |
| `...props` | `React.ComponentProps<"div">` | Div element props | -       |

**Example:**

```tsx
import { VideoProvider, Video, Shadow } from "@zuude-ui/video";

const VideoPlayer = () => {
  const videoRef = useRef<HTMLVideoElement>(null);

  return (
    <VideoProvider>
      <Video ref={videoRef} src="video.mp4" />
      <Shadow className="absolute bottom-0 left-0 right-0 -z-10 object-cover rounded blur-sm" />
    </VideoProvider>
  );
};
```

## Complete Video Player Example

<Preview name="video-component" />

```tsx title="video-component.tsx"
import { useRef } from "react";
import {
  VideoProvider,
  Video,
  Controls,
  Play,
  Pause,
  Mute,
  Unmute,
  SeekForward,
  SeekBackward,
  Fullscreen,
  ExitFullscreen,
  type VideoRef,
} from "@zuude-ui/video";
import {
  useCurrentTime,
  useGetDuration,
  useSpeed,
  useVideoState,
  useVolume,
} from "@zuude-ui/video/hooks";
import {
  PlayIcon,
  PauseIcon,
  FastForward,
  Rewind,
  Volume2,
  VolumeX,
  Maximize,
  Minimize,
} from "lucide-react";
import { formatTime, timeRemaining } from "@zuude-ui/video/utils";
import { Button } from "@workspace/ui/components/button";
import { Slider } from "@workspace/ui/components/slider";

const CompleteVideoPlayer = () => {
  const videoRef = useRef<HTMLVideoElement>(null);

  const { isPlaying, isMuted, isFullscreen } = useVideoState(videoRef);
  const { volume, onChangeVolume } = useVolume(videoRef);
  const { speed, onChangeSpeed } = useSpeed(videoRef);

  return (
    <VideoProvider
      onError={(error) => console.log(error)}
      className="relative rounded-xl overflow-hidden bg-background"
    >
      <Video
        ref={videoRef}
        src="https://personal-work-ali.s3.us-west-2.amazonaws.com/Transform+Your+Drone+Footage+%23OsmoAction5Pro+%2B+FPV+Cinematic+Editing+%E2%9C%A8%F0%9F%9A%80.mp4"
        className="aspect-video max-w-full h-full object-cover"
        controls
        muted
        loop
      />
      {/* Controls */}
      <Controls className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent duration-300 text-white p-4 data-[hidden]:opacity-0">
        <VideoTimeline videoRef={videoRef} />
        <div className="flex items-center justify-between">
          {/* Left Controls */}
          <div className="flex items-center gap-2">
            {isPlaying ? (
              <Pause asChild>
                <Button variant="ghost" size="icon">
                  <PauseIcon />
                </Button>
              </Pause>
            ) : (
              <Play asChild>
                <Button variant="ghost" size="icon">
                  <PlayIcon />
                </Button>
              </Play>
            )}

            <SeekBackward asChild>
              <Button variant="ghost" size="icon">
                <Rewind />
              </Button>
            </SeekBackward>

            <SeekForward asChild>
              <Button variant="ghost" size="icon">
                <FastForward />
              </Button>
            </SeekForward>

            {isMuted ? (
              <Unmute asChild>
                <Button variant="ghost" size="icon">
                  <VolumeX />
                </Button>
              </Unmute>
            ) : (
              <Mute asChild>
                <Button variant="ghost" size="icon">
                  <Volume2 />
                </Button>
              </Mute>
            )}

            {/* Volume Control */}
            <div className="flex items-center gap-2">
              <Slider
                min={0}
                max={100}
                step={0.1}
                value={[volume]}
                onValueChange={(value) => onChangeVolume(value[0] ?? 0)}
                className="w-20"
              />
              <span className="text-xs">{Math.round(volume)}%</span>
            </div>

            {/* Speed Control */}
            <select
              value={speed}
              onChange={(e) => onChangeSpeed(Number(e.target.value))}
              className="px-2 py-1 bg-white/10 rounded text-sm"
            >
              <option value={0.5}>0.5x</option>
              <option value={1}>1x</option>
              <option value={1.5}>1.5x</option>
              <option value={2}>2x</option>
            </select>
          </div>

          {/* Right Controls */}
          <div className="flex items-center gap-2">
            {/* Fullscreen */}
            {isFullscreen ? (
              <ExitFullscreen asChild>
                <Button variant="ghost" size="icon">
                  <Minimize />
                </Button>
              </ExitFullscreen>
            ) : (
              <Fullscreen asChild>
                <Button variant="ghost" size="icon">
                  <Maximize />
                </Button>
              </Fullscreen>
            )}
          </div>
        </div>
      </Controls>
    </VideoProvider>
  );
};

const VideoTimeline = ({ videoRef }: { videoRef: VideoRef }) => {
  const { currentTime, onTimeUpdate } = useCurrentTime(videoRef);
  const { duration } = useGetDuration(videoRef);

  return (
    <div className="w-full mb-2 space-y-2">
      <Slider
        min={0}
        max={duration ?? 0}
        value={[currentTime]}
        onValueChange={(value) => onTimeUpdate(value[0] ?? 0)}
        className="w-full"
      />
      <div className="flex items-center justify-between">
        <span className="text-xs">{formatTime(currentTime)}</span>
        <span className="text-xs">
          -{timeRemaining(currentTime, duration ?? 0)}
        </span>
      </div>
    </div>
  );
};

export default CompleteVideoPlayer;
```

## Auto-Hide Controls

The video player includes built-in auto-hide functionality for controls:

- **Auto-hide on mouse leave**: Controls disappear quickly when mouse leaves the video area
- **Auto-hide on mouse stay**: Controls hide after 3 seconds if mouse stays over video
- **Show on mouse movement**: Controls reappear when mouse moves over video
- **Pause state**: Controls remain visible when video is paused
- **Autoplay**: Controls hide immediately when video starts playing (if mouse not over)

To enable auto-hide, add the `data-zuude-hide-elements` attribute to your any elements:

```tsx
<div data-zuude-hide-elements className="...">
  {/* Your controls */}
</div>
```

This is good if you want to add title or description to the video, so they are visible with your controls.

## Keyboard Shortcuts

The video player supports keyboard shortcuts when using the `useHotKeys` hook:

- **Space**: Play/Pause
- **Arrow Left**: Seek backward 10 seconds
- **Arrow Right**: Seek forward 10 seconds
- **M**: Mute/Unmute
- **F**: Toggle fullscreen
- **P**: Toggle picture-in-picture

## Best Practices

1. **Always wrap with VideoProvider** - Provides context for all components
2. **Use data-zuude-video-wrapper** - Required for fullscreen functionality
3. **Add data-zuude-hide-elements** - Enables auto-hide elements
4. **Handle errors** - Use onError callbacks for better UX
5. **Accessibility** - Provide keyboard shortcuts and screen reader support
6. **Responsive design** - Use appropriate aspect ratios and responsive classes

# Hooks

A comprehensive collection of React hooks for building powerful video players with advanced functionality.

## Overview

The video player library provides a set of specialized hooks that handle different aspects of video playback, from basic play/pause controls to advanced features like fullscreen, picture-in-picture, and keyboard shortcuts.

### useVideoState

Manages the basic state of a video element (playing, muted, fullscreen).

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  isPlaying: boolean;
  isMuted: boolean;
  isFullscreen: boolean;
}
```

**Example:**

```tsx
const videoRef = useRef<HTMLVideoElement>(null);
const { isPlaying, isMuted, isFullscreen } = useVideoState(videoRef);
```

### usePlayPause

Handles play and pause functionality with toggle capability.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  togglePlay: () => void;
  play: () => void;
  pause: () => void;
}
```

**Example:**

```tsx
const { togglePlay, play, pause } = usePlayPause(videoRef);
```

### useCurrentTime

Tracks and manages the current playback time of the video.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  currentTime: number;
  onTimeUpdate: (time: number) => void;
}
```

**Example:**

```tsx
const { currentTime, onTimeUpdate } = useCurrentTime(videoRef);
```

### useGetDuration

Retrieves and manages the total duration of the video.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  duration: number | null;
  isLoading: boolean;
}
```

**Example:**

```tsx
const { duration, isLoading } = useGetDuration(videoRef);
```

### useVolume

Manages video volume with smooth transitions and state tracking.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  volume: number;
  setVolume: (volume: number) => void;
  increaseVolume: () => void;
  decreaseVolume: () => void;
}
```

**Example:**

```tsx
const { volume, setVolume, increaseVolume, decreaseVolume } =
  useVolume(videoRef);
```

### useMuteUnmute

Handles mute/unmute functionality with state management.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  isMuted: boolean;
  toggleMute: () => void;
  mute: () => void;
  unmute: () => void;
}
```

**Example:**

```tsx
const { isMuted, toggleMute, mute, unmute } = useMuteUnmute(videoRef);
```

### useSeek

Provides seeking functionality with forward/backward controls.

| Prop       | Type                          | Description                    | Default |
| ---------- | ----------------------------- | ------------------------------ | ------- |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element | -       |
| `value`    | `number`                      | Seek amount in seconds         | `10`    |

**Returns:**

```tsx
{
  seekForward: () => void;
  seekBackward: () => void;
  seekTo: (time: number) => void;
}
```

**Example:**

```tsx
const { seekForward, seekBackward, seekTo } = useSeek(videoRef, 15);
```

### useSpeed

Manages video playback speed with multiple speed options.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  speed: number;
  onChangeSpeed: (speed: number) => void;
  availableSpeeds: number[];
}
```

**Example:**

```tsx
const { speed, onChangeSpeed, availableSpeeds } = useSpeed(videoRef);
```

### useStartAt

Automatically sets the starting time when the video loads.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |
| `startAt`  | `number`                      | Start time in seconds          |

**Example:**

```tsx
useStartAt(videoRef, 30); // Start at 30 seconds
```

### useRange

Sets the range of the video to play.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |
| `range`    | `[number, number]`            | Range of the video to play     |

**Example:**

```tsx
useRange(videoRef, [10, 12]); // Play from 10 to 12 seconds
```

### useFullscreen

Manages fullscreen functionality with cross-browser support.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  isFullscreen: boolean;
  toggleFullscreen: () => void;
  enterFullscreen: () => void;
  exitFullscreen: () => void;
}
```

**Example:**

```tsx
const { isFullscreen, toggleFullscreen } = useFullscreen(videoRef);
```

**Note:** Wrap the video parent in `data-zuude-video-wrapper` to use fullscreen.

### usePictureInPicture

Handles picture-in-picture mode with state management.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  isPictureInPicture: boolean;
  togglePictureInPicture: () => void;
  enterPictureInPicture: () => void;
  exitPictureInPicture: () => void;
}
```

**Example:**

```tsx
const { isPictureInPicture, togglePictureInPicture } =
  usePictureInPicture(videoRef);
```

### useDownload

Provides video download functionality with progress tracking and error handling.

| Prop       | Type                          | Description                    |
| ---------- | ----------------------------- | ------------------------------ |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |

**Returns:**

```tsx
{
  downloadVideo: (filename?: string) => Promise<void>;
  downloadDirect: (filename?: string) => void;
  isDownloading: boolean;
  downloadProgress: number;
  error: string | null;
  resetError: () => void;
}
```

**Methods:**

- **`downloadVideo(filename?)`** - Download with progress tracking

  - Fetches video as a stream for large files
  - Provides real-time progress updates
  - Better error handling and memory management

- **`downloadDirect(filename?)`** - Simple direct download
  - Uses browser's native download behavior
  - Faster for smaller files
  - Works with direct video URLs
  - No progress tracking

**State:**

- **`isDownloading`** - Boolean indicating download status
- **`downloadProgress`** - Number (0-100) showing download progress
- **`error`** - String containing error messages
- **`resetError()`** - Function to clear error state

**Example:**

```tsx
import { useDownload } from "@zuude-ui/video/hooks";

const VideoPlayer = () => {
  const videoRef = useRef<HTMLVideoElement>(null);
  const {
    downloadVideo,
    downloadDirect,
    isDownloading,
    downloadProgress,
    error,
    resetError,
  } = useDownload(videoRef);

  const handleDownload = async () => {
    try {
      // Download with progress tracking
      await downloadVideo("my-video.mp4");
    } catch (err) {
      console.error("Download failed:", err);
    }
  };

  const handleQuickDownload = () => {
    // Simple direct download
    downloadDirect("quick-video.mp4");
  };

  return (
    <div>
      <video ref={videoRef} src="/path/to/video.mp4" />

      <button onClick={handleDownload} disabled={isDownloading}>
        {isDownloading ? `Downloading... ${downloadProgress}%` : "Download"}
      </button>

      <button onClick={handleQuickDownload}>Quick Download</button>

      {error && (
        <div>
          <p>Error: {error}</p>
          <button onClick={resetError}>Dismiss</button>
        </div>
      )}
    </div>
  );
};
```

### useAutoplayByForce

Forces autoplay with fallback handling for browsers that block it.

| Prop       | Type                          | Description                       |         |
| ---------- | ----------------------------- | --------------------------------- | ------- |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element    |         |
| `enabled`  | `boolean`                     | Whether to enable forced autoplay | `false` |
| `onError`  | `(error: string) => void`     | Error callback function           | -       |

**Example:**

```tsx
useAutoplayByForce(videoRef, true, (error) => console.log(error));
```

### useAutoplayOnVisible

Automatically plays video when it becomes visible in the viewport.

| Prop        | Type                          | Description                    |       |
| ----------- | ----------------------------- | ------------------------------ | ----- |
| `videoRef`  | `RefObject<HTMLVideoElement>` | Reference to the video element |       |
| `threshold` | `number`                      | Visibility threshold (0-1)     | `0.5` |

**Example:**

```tsx
useAutoplayOnVisible(videoRef, 0.7); // Play when 70% visible
```

### useHotKeys

Manages keyboard shortcuts for video controls.

| Prop      | Type                             | Description                   |        |
| --------- | -------------------------------- | ----------------------------- | ------ |
| `key`     | `string`                         | Keyboard key to listen for    | -      |
| `func`    | `(event: KeyboardEvent) => void` | Function to execute           | -      |
| `enabled` | `boolean`                        | Whether the hotkey is enabled | `true` |

**Example:**

```tsx
useHotKeys(" ", (e) => {
  e.preventDefault();
  togglePlay();
});
```

### useBuffer

Tracks video buffering progress and state.

| Prop       | Type                          | Description                    |     |
| ---------- | ----------------------------- | ------------------------------ | --- |
| `videoRef` | `RefObject<HTMLVideoElement>` | Reference to the video element |     |
| `duration` | `number`                      | Total video duration           | -   |

**Returns:**

```tsx
{
  buffered: number;
  bufferedPercentage: number;
  isBuffering: boolean;
}
```

**Example:**

```tsx
const { buffered, bufferedPercentage, isBuffering } = useBuffer(
  videoRef,
  duration
);
```

## Advanced Usage Examples

### Complete Video Player Setup

```tsx
import { useRef } from "react";
import {
  useVideoState,
  usePlayPause,
  useVolume,
  useFullscreen,
  useHotKeys,
} from "@zuude-ui/video/hooks";

const VideoPlayer = () => {
  const videoRef = useRef<HTMLVideoElement>(null);

  // Core state
  const { isPlaying, isMuted, isFullscreen } = useVideoState(videoRef);
  const { togglePlay, play, pause } = usePlayPause(videoRef);

  // Volume control
  const { volume, setVolume } = useVolume(videoRef);
  const { toggleMute } = useMuteUnmute(videoRef);

  // Fullscreen
  const { toggleFullscreen } = useFullscreen(videoRef);

  // Keyboard shortcuts
  useHotKeys(" ", (e) => {
    e.preventDefault();
    togglePlay();
  });

  return (
    <div>
      <video ref={videoRef} src="video.mp4" />
      <button onClick={togglePlay}>{isPlaying ? "Pause" : "Play"}</button>
      <input
        type="range"
        value={volume}
        onChange={(e) => setVolume(Number(e.target.value))}
      />
      <button onClick={toggleFullscreen}>
        {isFullscreen ? "Exit Fullscreen" : "Fullscreen"}
      </button>
    </div>
  );
};
```

### Custom Controls with All Features

<Preview name="advanced-video-player-with-hooks" />

```tsx title="advanced-video-player-with-hooks.tsx"
import { useRef } from "react";
import {
  useVideoState,
  usePlayPause,
  useCurrentTime,
  useGetDuration,
  useVolume,
  useMuteUnmute,
  useSeek,
  useSpeed,
  useFullscreen,
  usePictureInPicture,
  useBuffer,
  useAutoplayOnVisible,
  useStartAt,
} from "@zuude-ui/video/hooks";

const AdvancedVideoPlayer = () => {
  const videoRef = useRef<HTMLVideoElement>(null);

  // All hooks
  const { isPlaying, isMuted, isFullscreen } = useVideoState(videoRef);
  const { togglePlay } = usePlayPause(videoRef);
  const { currentTime } = useCurrentTime(videoRef);
  const { duration } = useGetDuration(videoRef);
  const { volume, onChangeVolume } = useVolume(videoRef);
  const { toggleMute } = useMuteUnmute(videoRef);
  const { seekForward, seekBackward } = useSeek(videoRef, 10);
  const { speed, onChangeSpeed } = useSpeed(videoRef);
  const { toggleFullscreen } = useFullscreen(videoRef);
  const { togglePictureInPicture } = usePictureInPicture(videoRef);
  const { bufferedPercentage } = useBuffer(videoRef, duration || 0);

  // Autoplay when visible
  useAutoplayOnVisible(videoRef, 0.5);

  // Start at specific time
  useStartAt(videoRef, 30);

  return (
    <div data-zuude-video-wrapper>
      <video
        ref={videoRef}
        src="https://personal-work-ali.s3.us-west-2.amazonaws.com/Transform+Your+Drone+Footage+%23OsmoAction5Pro+%2B+FPV+Cinematic+Editing+%E2%9C%A8%F0%9F%9A%80.mp4"
        className="!aspect-[16/9] w-full object-cover rounded-lg"
      />

      {/* Progress bar */}
      <div className="progress">
        <div
          className="progress-bar"
          style={{ width: `${(currentTime / (duration || 1)) * 100}%` }}
        />
        <div
          className="buffer-bar"
          style={{ width: `${bufferedPercentage}%` }}
        />
      </div>

      {/* Controls */}
      <div className="controls">
        <button onClick={togglePlay}>{isPlaying ? "‚è∏Ô∏è" : "‚ñ∂Ô∏è"}</button>
        <button onClick={seekBackward}>‚è™</button>
        <button onClick={seekForward}>‚è©</button>
        <button onClick={toggleMute}>{isMuted ? "üîá" : "üîä"}</button>
        <input
          type="range"
          value={volume}
          onChange={(e) => onChangeVolume(Number(e.target.value))}
        />
        <select
          value={speed}
          onChange={(e) => onChangeSpeed(Number(e.target.value))}
        >
          <option value={0.5}>0.5x</option>
          <option value={1}>1x</option>
          <option value={1.5}>1.5x</option>
          <option value={2}>2x</option>
        </select>
        <button onClick={toggleFullscreen}>{isFullscreen ? "‚õ∂" : "‚õ∂"}</button>
        <button onClick={togglePictureInPicture}>üì∫</button>
      </div>
    </div>
  );
};

export default AdvancedVideoPlayer;
```

## Best Practices

1. **Always use refs** - Pass video refs to hooks for proper state management
2. **Handle errors** - Use error callbacks for autoplay and other operations
3. **Clean up properly** - Hooks handle cleanup automatically, but ensure proper component unmounting
4. **Accessibility** - Provide keyboard shortcuts and screen reader support
5. **Performance** - Use hooks efficiently and avoid unnecessary re-renders

For more optimization, wrap your component with `React.memo` to avoid re-rendering.
If you are using range, then make sure to pause the video when using the video slider.

# Video Time Formatting Utilities

Similar to `date-fns` but specifically designed for video durations and time formatting.

## Basic Usage

```tsx
import { formatTime, humanizeTime, parseTime } from "@zuude-ui/video/utils";

// Basic formatting
formatTime(125.5); // "2:05"
formatTime(125.5, "h:mm:ss"); // "0:02:05"
formatTime(125.5, "ss"); // "125s"

// Human readable
humanizeTime(125.5); // "2 minutes 5 seconds"
humanizeTime(125.5, { compact: true }); // "2 minutes"

// Parse time strings
parseTime("2:30"); // 150
parseTime("1:23:45"); // 5025
parseTime("90s"); // 90
```

## Available Functions

### `formatTime(time, options)`

Format time in seconds to various formats.

**Parameters:**

- `time` (number): Time in seconds
- `options` (TimeFormatOptions | TimeFormat): Format options

**Formats:**

- `"mm:ss"` (default): "2:05"
- `"h:mm:ss"`: "0:02:05"
- `"ss"`: "125s"
- `"human"`: "2 minutes 5 seconds"
- `"compact"`: "2:05"
- `"detailed"`: "00:02:05.000"

**Options:**

```tsx
interface TimeFormatOptions {
  format?: TimeFormat;
  showHours?: boolean;
  showLeadingZeros?: boolean;
  showMilliseconds?: boolean;
  humanize?: boolean;
  compact?: boolean;
}
```

### `humanizeTime(time, options)`

Convert time to human-readable format.

```tsx
humanizeTime(125.5); // "2 minutes 5 seconds"
humanizeTime(125.5, { compact: true }); // "2 minutes"
humanizeTime(3600); // "1 hour"
```

### `compactTime(time)`

Compact time format.

```tsx
compactTime(125.5); // "2:05"
compactTime(3600); // "1:00:00"
```

### `detailedTime(time, options)`

Detailed time format with optional milliseconds.

```tsx
detailedTime(125.5); // "00:02:05"
detailedTime(125.5, { showMilliseconds: true }); // "00:02:05.000"
```

### `parseTime(timeString)`

Parse time string to seconds.

```tsx
parseTime("2:30"); // 150
parseTime("1:23:45"); // 5025
parseTime("90s"); // 90
parseTime("1.5m"); // 90
parseTime("0.5h"); // 1800
```

### `timeRemaining(current, total, format)`

Calculate remaining time.

```tsx
timeRemaining(125.5, 3600); // "57:54"
timeRemaining(125.5, 3600, "human"); // "57 minutes 54 seconds"
```

### `formatTimeWithPercentage(current, total, format)`

Format time with percentage.

```tsx
formatTimeWithPercentage(125.5, 3600); // "2:05 (3%)"
```

### `getTimeSegments(duration, segments)`

Get time segments for timeline.

```tsx
getTimeSegments(3600, 5); // [0, 720, 1440, 2160, 2880, 3600]
```

### `formatTimeForAccessibility(time)`

Format time for screen readers.

```tsx
formatTimeForAccessibility(125.5); // "2 minutes, 5 seconds"
```

## Advanced Examples

<Preview name="format-duration" />

### Custom Timeline Component

```tsx
import { formatTime, getTimeSegments } from "@zuude-ui/video/utils";

const Timeline = ({ currentTime, duration }) => {
  const segments = getTimeSegments(duration, 10);

  return (
    <div className="timeline">
      {segments.map((time, i) => (
        <div key={i} className="segment">
          {formatTime(time, "mm:ss")}
        </div>
      ))}
    </div>
  );
};
```

### Video Progress Display

```tsx
import {
  formatTime,
  timeRemaining,
  formatTimeWithPercentage,
} from "@zuude-ui/video/utils";

const VideoProgress = ({ currentTime, duration }) => {
  return (
    <div className="video-progress">
      <span>{formatTime(currentTime)}</span>
      <span>{timeRemaining(currentTime, duration)}</span>
      <span>{formatTimeWithPercentage(currentTime, duration)}</span>
    </div>
  );
};
```

### Accessibility-Friendly Time Display

```tsx
import { formatTimeForAccessibility } from "@zuude-ui/video/utils";

const AccessibleTimeDisplay = ({ time }) => {
  return (
    <span aria-label={formatTimeForAccessibility(time)}>
      {formatTime(time)}
    </span>
  );
};
```

## TypeScript Support

Full TypeScript support with comprehensive type definitions:

```tsx
import type { TimeFormat, TimeFormatOptions } from "@zuude-ui/video/utils";
```
